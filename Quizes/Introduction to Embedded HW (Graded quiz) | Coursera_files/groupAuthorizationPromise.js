define("pages/open-course/common/promises/groupAuthorizationPromise",["require","exports","module","q","underscore","bundles/groups/constants/GroupRoles","js/lib/user","bundles/groups/utils/GroupMembershipAPIUtils"],function(require,exports,module){"use strict";var e=require("q"),_=require("underscore"),o=require("bundles/groups/constants/GroupRoles"),s=require("js/lib/user"),n=require("bundles/groups/utils/GroupMembershipAPIUtils"),r={},u=function groupMembershipsPromise(u,t,i){if(!t)return e({canModerate:!1});if(i)return e({canModerate:!0});if(r[u])return e(r[u]);return n.getMembershipsForUser(s.get().id).then(function(s){var n=s.elements,t=_(n).find(function(e){return e.groupId===u&&(e.role===o.GroupManager||e.role===o.DerivedGroupManager)}),e={canModerate:!1};return t&&(e={canModerate:!0}),r[u]=e,e})};module.exports=u});