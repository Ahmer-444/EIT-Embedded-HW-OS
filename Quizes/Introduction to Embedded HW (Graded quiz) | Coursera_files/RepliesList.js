define("bundles/discussions/components/repliesList/RepliesList",["require","exports","module","react","vendor/cnpm/fluxible.v0-4/addons/connectToStores","i18n!nls/discussions","bundles/discussions/components/repliesList/RepliesSortBar","bundles/discussions/components/repliesList/ReplyContainer","bundles/page/components/PaginationControls","bundles/discussions/components/ListBody","bundles/discussions/constants"],function(require,exports,module){"use strict";function _defaults(e,o){for(var r=Object.getOwnPropertyNames(o),t=0;t<r.length;t++){var n=r[t],s=Object.getOwnPropertyDescriptor(o,n);s&&s.configurable&&void 0===e[n]&&Object.defineProperty(e,n,s)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,n,e=require("react"),r=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores"),o=require("i18n!nls/discussions"),i=require("bundles/discussions/components/repliesList/RepliesSortBar"),a=require("bundles/discussions/components/repliesList/ReplyContainer"),p=require("bundles/page/components/PaginationControls"),u=require("bundles/discussions/components/ListBody"),c=require("bundles/discussions/constants"),s=c.loadingStates,l=(n=t=function(t){function RepliesList(){var s,e,o;_classCallCheck(this,RepliesList);for(var r=arguments.length,i=Array(r),n=0;r>n;n++)i[n]=arguments[n];return s=e=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(i))),e.onPageChange=function(t){e.context.router.push({pathname:e.context.router.location.pathname,params:e.context.router.params,query:Object.assign(e.context.router.location.query,{page:t})})},o=s,_possibleConstructorReturn(e,o)}return _inherits(RepliesList,t),RepliesList.prototype.render=function render(){var t=this.props,g=t.sort,f=t.page,n=t.replies,d=t.answerId,l=t.commentId,m=t.forumLink,y=t.isQuestionLoaded,r=t.loadingState,b=t.savingStates,c=t.pageCount,P=r===s.DONE;return e.createElement("div",null,e.createElement("div",{className:"rc-RepliesList card-rich-interaction nostyle"},e.createElement(i,{sort:g}),e.createElement(u,{loadingState:r,emptyStatePlaceholderText:o("No Replies Yet")},n&&n.map(function(t){return e.createElement("li",{key:t.id},e.createElement(a,{reply:t,answerId:d,commentId:l,forumLink:m,isQuestionLoaded:y,savingState:b[t.id]}))}))),P&&!!c&&e.createElement(p,{maxPages:5,currentPage:f,pageCount:c,onPageChange:this.onPageChange}))},RepliesList}(e.Component),t.propTypes={sort:e.PropTypes.string.isRequired,page:e.PropTypes.number.isRequired,questionId:e.PropTypes.string.isRequired,savingStates:e.PropTypes.object.isRequired,replies:e.PropTypes.array.isRequired,loadingState:e.PropTypes.string.isRequired,isQuestionLoaded:e.PropTypes.bool,answerId:e.PropTypes.string,commentId:e.PropTypes.string,pageCount:e.PropTypes.number,forumLink:e.PropTypes.string},t.contextTypes={router:e.PropTypes.object.isRequired},n);module.exports=r(l,["ThreadDetailsStore"],function(i,r){var e=i.ThreadDetailsStore,t=r.questionId,n=r.page,o=r.sort;return{replies:e.getReplies(t,n,o)||[],pageCount:e.getPageCount(t,n,o),savingStates:e.savingStates,loadingState:e.getAnswerLoadedState({questionId:t,page:n,sort:o})||s.LOADING,isQuestionLoaded:e.isLoaded({questionId:t,page:n,sort:o})}})});