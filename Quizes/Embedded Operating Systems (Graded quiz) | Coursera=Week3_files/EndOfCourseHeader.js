define("bundles/ondemand/components/endOfCourse/components/EndOfCourseHeader",["require","exports","module","i18n!nls/ondemand","bundles/phoenix/lib/waitForStores","js/lib/coursera.react-intl","react","bundles/s12n/service/constants","pages/open-course/common/models/course","bundles/ondemand/components/endOfCourse/components/HeaderSummary","bundles/ondemand/components/PartnerLogo","bundles/ondemand/models/S12n","css!./__styles__/EndOfCourseHeader"],function(require,exports,module){"use strict";function _defaults(e,s){for(var o=Object.getOwnPropertyNames(s),t=0;t<o.length;t++){var n=o[t],r=Object.getOwnPropertyDescriptor(s,n);r&&r.configurable&&void 0===e[n]&&Object.defineProperty(e,n,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var r,s,t=require("i18n!nls/ondemand"),o=require("bundles/phoenix/lib/waitForStores"),a=require("js/lib/coursera.react-intl"),n=a.FormattedHTMLMessage,e=require("react"),c=require("bundles/s12n/service/constants"),u=c.genericS12nHeaderImage,i=require("pages/open-course/common/models/course"),l=require("bundles/ondemand/components/endOfCourse/components/HeaderSummary"),m=require("bundles/ondemand/components/PartnerLogo"),d=require("bundles/ondemand/models/S12n");require("css!./__styles__/EndOfCourseHeader");var p=(s=r=function(r){function EndOfCourseHeader(){return _classCallCheck(this,EndOfCourseHeader),_possibleConstructorReturn(this,r.apply(this,arguments))}return _inherits(EndOfCourseHeader,r),EndOfCourseHeader.prototype.renderPartnerLogo=function renderPartnerLogo(){var t=this.props.course;return e.createElement(m,{title:t.get("name"),thumbnail:t.getFirstPartnerSquareLogo()})},EndOfCourseHeader.prototype.renderHeaderMessage=function renderHeaderMessage(){var o=this.props,r=o.course,s=o.s12n;if(!s)return e.createElement(n,{message:t("You have successfully completed {courseName} from {partnerNames}."),courseName:e.createElement("span",{className:"body-2-text"},r.get("name")),partnerNames:e.createElement("span",{className:"body-2-text"},r.get("universities").getNamesString())});if(!s.getNextCourse(r.get("id")))return e.createElement(n,{message:t("You have successfully completed {courseName} and the {s12nName} specialization!"),courseName:e.createElement("span",{className:"body-2-text"},r.get("name")),s12nName:e.createElement("span",{className:"body-2-text"},s.getName())});return e.createElement(n,{message:t("You have successfully completed {courseName}, 1 of {totalCourses} courses in\n{s12nName} from {partners}."),courseName:e.createElement("span",{className:"body-2-text"},r.get("name")),totalCourses:s.getNumberOfCourses(),s12nName:e.createElement("span",{className:"body-2-text"},s.getName()),partners:e.createElement("span",{className:"body-2-text"},r.get("universities").getNamesString())})},EndOfCourseHeader.prototype.render=function render(){var n=this.props.s12n,r={},s="";if(n){var o=n.getHeaderImage()||u;r={background:"linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url("+o+")","background-size":"cover"}}else s="bgcolor-primary-dark";return e.createElement("div",{style:r,className:"rc-EndOfCourseHeader congratulations-header vertical-box align-items-absolute-center "+s},this.props.showPartner&&this.renderPartnerLogo(),e.createElement("div",{className:"congratulations display-4-text color-primary-text"},t("Congratulations!")),e.createElement("div",{className:"completion-info body-1-text"},this.renderHeaderMessage()),e.createElement(l,null))},EndOfCourseHeader}(e.Component),r.propTypes={course:e.PropTypes.instanceOf(i).isRequired,s12n:e.PropTypes.instanceOf(d),showPartner:e.PropTypes.bool},s);module.exports=o(p,["S12nStore","CourseStore"],function(e,r){var t=e.S12nStore,n=e.CourseStore;return{s12n:t.getS12n(),course:n.getMetadata()}})});