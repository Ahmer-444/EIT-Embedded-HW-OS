define("bundles/verification/viewModels/verificationModule",["require","exports","module","backbone","underscore","js/lib/fsm"],function(require,exports,module){"use strict";var Backbone=require("backbone"),_=require("underscore"),i=require("js/lib/fsm"),e=Backbone.Model.extend(_.extend({},i.FiniteStateMachine,{logTransitions:!0,defaults:{state:"none",activeViewModel:null,verifiableId:null},fsm:{states:["none","skip-verification"],transitions:{"skip-verification":["none"]}},initialize:function initialize(i){this.metadata=i.metadata,this.fluxibleContext=i.fluxibleContext;var e=this.fluxibleContext.getComponentContext().getStore("ApplicationStore"),t=e.getUserVerificationProfile();this.set("canOptOut",i.canOptOut),this.set("isProfileComplete",t.canVerifyCoursework()),i.verificationDisplay?(this.set("isVerifyingAssessment",!0),this.productOwnership=i.verificationDisplay.get("productOwnership"),this.verificationPreferences=i.verificationDisplay.get("verificationPreferences"),this.set("hasPaidForVerification",this.productOwnership.get("owns")),this.set("optedOutOfVerification",this.verificationPreferences.get("optedOutOfVerification")),this.set("canOptOut",!this.get("hasPaidForVerification")),this.selectVerificationFlow()):(this.set("isVerifyingAssessment",!1),this.transition("registration"))},selectVerificationFlow:function selectVerificationFlow(){this.transition("skip-verification")}}));module.exports=e});