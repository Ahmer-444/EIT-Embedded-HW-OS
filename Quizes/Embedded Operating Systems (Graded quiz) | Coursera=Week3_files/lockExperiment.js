define("pages/open-course/common/utils/lockExperiment",["require","exports","module","underscore","bundles/epic/client","pages/open-course/common/constants"],function(require,exports,module){"use strict";var _=require("underscore"),e=require("bundles/epic/client"),s=require("pages/open-course/common/constants");exports.setup=function(t,n,o,i){_(s.lockedAssessments).contains(t)&&e.get("siteOnDemandCompletion","lockedAssessments")&&!function(){var e=n.getGradableItemMetadatas();_(e).chain().rest(1).each(function(n,c){var s=e[c],t=!1,r=["closedPeer","gradedPeer","phasedPeer","splitPeerReviewItem"],a=_(r).contains(s.getTypeName());if(a){var d=i.getItemProgress(s.get("id")),m=d.getDefinition("submitted");t=m}else{var u=o.getItemGrade(s.get("id"));t=u.isPassing()}n.set({locked:!t},{silent:!0})})}()}});