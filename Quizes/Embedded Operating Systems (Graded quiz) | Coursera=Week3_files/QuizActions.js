define("bundles/quiz-common/actions/QuizActions",["require","exports","module","bundles/quiz-common/utils/QuizApiUtils"],function(require,exports,module){"use strict";var t=require("bundles/quiz-common/utils/QuizApiUtils");exports.loadQuiz=function(i,n){var e=n.itemMetadata;t.loadQuiz(e).then(function(t){var n=t.assessmentClient,e=t.contentModel;return i.dispatch("QUIZ_LOADED",{assessmentClient:n,contentModel:e})}).done()},exports.showQuizStart=function(t){t.dispatch("QUIZ_SHOW_START")},exports.verifyQuiz=function(t){t.dispatch("QUIZ_VERIFY")},exports.attemptQuiz=function(i,t){var n=t.verifiableId,e=t.attemptIndex;i.dispatch("QUIZ_ATTEMPT",{verifiableId:n,attemptIndex:e})},exports.getQuizSession=function(i,s){var n=s.client;i.dispatch("QUIZ_START_LOADING_SESSION");var e=function onLoadError(t){i.dispatch("QUIZ_SESSION_LOAD_ERROR",{error:t})};t.getSessionId(n).then(function(s){return t.getSessionData(n,s).then(function(n){var t=n.sessionData,e=n.gradingAttempt;t.evaluation?i.dispatch("QUIZ_SUBMITTED",{sessionId:s,sessionData:t,gradingAttempt:e}):i.dispatch("QUIZ_UNSUBMITTED",{sessionId:s,sessionData:t,gradingAttempt:e})},e)},e).done()},exports.submitQuiz=function(n,i){var s=i.client,e=i.sessionId,a=i.questions,o=i.answers,u=i.verifiableId;n.dispatch("QUIZ_SUBMITTING");var d=function onSubmitError(t){n.dispatch("QUIZ_SUBMIT_ERROR",{sessionId:e})};t.submit(s,e,a,o,u).then(function(t){var i=t.sessionData,s=t.gradingAttempt;n.dispatch("QUIZ_SUBMITTED",{sessionId:e,sessionData:i,gradingAttempt:s})},d).done()},exports.retakeQuiz=function(t,i){var n=i.client;console.debug("Retaking quiz"),t.dispatch("QUIZ_RESET"),t.executeAction(exports.getQuizSession,{client:n})}});